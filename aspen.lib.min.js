function Time(e) {
    this.obj = document.getElementById(e.id)
}
var aspenLib = {};
aspenLib.h5PopClass = {
    getBody: document.querySelectorAll("body")[0],
    init: function (e) {
        var t, n = this;
        e && "object" == typeof e && n.isMobile(function () {
            clearTimeout(t), t = setTimeout(function () {
                n.popMainRun(e), n.bindEvent(e)
            }, 100)
        })
    }, isMobile: function (e) {
        var t = this,
            n = window.navigator.userAgent,
            a = /Android|HTC/i.test(n),
            o = !a && /iPad/i.test(n),
            r = !a && /iPod|iPhone/i.test(n),
            i = o || r;
        return !(!document.addEventListener || !i && !a) && (e.call(this), void document.addEventListener("DOMContentLoaded", function () {
            t.getBody.classList.add("mobile"), i ? t.getBody.classList.add("ios") : a && t.getBody.classList.add("android")
        }, !1))
    }, popMainRun: function (e) {
        var t = this,
            n = document.createElement("div"),
            a = document.createElement("div");
        a.className = "h5pop-mask", a.id = "h5PopMasks", n.className = "h5pop-main clearfix", n.id = "h5PopMainEle";
        var o = "";
        e.hasOwnProperty("isHideClose") && 1 == e.isHideClose && (o += '<a href="javascript:;" class="h5pop-close">×</a>'), e.hasOwnProperty("title") && "" != e.title && (o += '<h3 class="h5tips-title">' + e.title + "</h3>"), e.hasOwnProperty("tipTxt") && "" != e.tipTxt && (o += '<div class="h5pop-content clearfix">' + e.tipTxt + "</div>"), o += '<div class="h5pop-footer">', e.hasOwnProperty("cancelBtn") && "" != e.cancelBtn && (o += '<a type="button" class="h5pop-cancel" href="javascript:;">' + e.cancelBtn + "</a>"), e.hasOwnProperty("confirmBtn") && "" != e.confirmBtn && (o += '<a type="button" class="h5pop-confirm" href="javascript:;">' + e.confirmBtn + "</a>"), o += "</div>", n.innerHTML = o, t.getBody.appendChild(n), t.getBody.appendChild(a)
    }, bindEvent: function (e) {
        var t = this,
            n = !0;
        t.getBody.onclick = function () {
            var a = a || window.event,
                o = a.target || a.srcElement,
                r = o.className.toLowerCase() ? o.className.toLowerCase() : o.id;
            if (1 == n) {
                if ("h5pop-close" == r) return a.preventDefault(), t.removePop(), void(n = !1);
                if ("h5pop-cancel" == r) return a.preventDefault(), e.hasOwnProperty("cancelBtnRun") && "function" == typeof e.cancelBtnRun && e.cancelBtnRun(), t.removePop(), void(n = !1);
                if ("h5pop-confirm" == r) return a.preventDefault(), e.hasOwnProperty("confirmBtnRun") && "function" == typeof e.confirmBtnRun && e.confirmBtnRun(), t.removePop(), void(n = !1)
            }
        }
    }, removePop: function () {
        var e = document.getElementById("h5PopMasks"),
            t = document.getElementById("h5PopMainEle");
        return !(!e.parentNode || !t.parentNode) && (e.parentNode.removeChild(e), void t.parentNode.removeChild(t))
    }
}, aspenLib.h5PopClass.isMobile(function () {}), aspenLib.ajax = function (opts) {
    var defaults = {
        type: "GET",
        url: "",
        data: "",
        dataType: "json",
        async: !0,
        cache: !0,
        contentType: "application/x-www-form-urlencoded;charset=utf-8",
        param: "",
        success: function () {}, error: function () {}
    };
    for (var key in opts) defaults[key] = opts[key];
    if ("object" == typeof defaults.data) {
        var str = "";
        for (var key in defaults.data) str += key + "=" + defaults.data[key] + "&";
        defaults.data = str.substring(0, str.length - 1)
    }
    defaults.type = defaults.type.toUpperCase(), defaults.cache = defaults.cache ? "" : "&" + (new Date).getTime(), "GET" === defaults.type && (defaults.data || defaults.cache) && (defaults.url += "?" + defaults.data + defaults.cache);
    var oXhr = window.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP");
    if (oXhr.param = defaults.param, oXhr.open(defaults.type, defaults.url, defaults.async), defaults.headers)
        for (var k in defaults.headers) oXhr.setRequestHeader(k, defaults.headers[k]);
    "GET" === defaults.type ? oXhr.send(null) : (oXhr.setRequestHeader("Content-type", defaults.contentType), oXhr.send(defaults.data)), "undefined" != typeof defaults.setToken && "function" == typeof defaults.setToken && defaults.setToken(oXhr), oXhr.onreadystatechange = function () {
        if (4 === oXhr.readyState)
            if (200 === oXhr.status) {
                if ("function" == typeof defaults.success)
                    if ("json" == defaults.dataType) try {
                        defaults.success.call(oXhr, eval("(" + oXhr.responseText + ")"))
                    } catch (e) {} else try {
                        defaults.success.call(oXhr, oXhr.responseText)
                    } catch (e) {}
            } else "function" == typeof defaults.error && defaults.error()
    }
}, aspenLib.uploadImg = function (e) {
    if ("object" == typeof e) {
        var t = new FormData,
            n = new XMLHttpRequest;
        t.append("image", e.ele.files[0]), n.open("post", e.url, !0), n.onreadystatechange = function (t) {
            if (4 === n.readyState)
                if (200 === n.status) {
                    var t = JSON.parse(n.responseText);
                    "200" == t.status ? "function" == typeof e.callback && e.callback.call(this) : aspenLib.tips(t.msg)
                } else aspenLib.tips("ajax error")
        }, n.send(t)
    }
}, aspenLib.isweixin = function () {
    return "micromessenger" == window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)
}, aspenLib.loadJS = function (e, t, n, a) {
    if (document.getElementById(a)) return !1;
    var o = document.createElement("script");
    o.src = e, o.type = "text/javascript", o.id = a || "", "after" == t ? document.querySelectorAll("body")[0].appendChild(o) : document.querySelectorAll("head")[0].appendChild(o), o.readyState ? o.onreadystatechange = function () {
        "loaded" != o.readyState && "complete" != o.readyState || (o.onreadystatechange = null, n.call(this))
    } : o.onload = function () {
        n.call(this)
    }
}, aspenLib.tips = function (e) {
    if (document.getElementById("systemTips") || !e || "" == e) return !1;
    var t = null,
        n = document.createElement("div");
    n.id = "systemTips", n.innerHTML = e.toString(), document.querySelectorAll("body")[0].appendChild(n);
    var a = document.getElementById("systemTips");
    a && (t = setTimeout(function () {
        a.parentNode && (a.parentNode.removeChild(a), clearTimeout(t))
    }, 2e3))
}, aspenLib.ranStr = function (e) {
    for (var t = "abcdefghijklmnopqrstuvwxyzABCDEFGHIZKLMNOPQRSTUVWXYZ0123456789", n = "", a = 0; a < e; a++) {
        var o = Math.floor(Math.random() * (t.length - 1));
        n += t.charAt(o)
    }
    return n
}, aspenLib.jsonpAjax = function (e) {
    var t, n, a = this,
        o = e || {
            url: "",
            data: {} || [],
            success: function () {}, error: function () {}
        },
        r = [],
        i = "",
        s = "",
        c = null,
        d = null,
        l = "",
        u = o.timeout || 0,
        f = a.ranStr(10);
    for (var p in o.data) o.data.hasOwnProperty(p) && r.push(encodeURIComponent(p) + "=" + encodeURIComponent(o.data[p]));
    s = o.url.split("?"), s.length > 1 && r.push(s[1]), t = "callback" + f, r.push("callback=" + t), i = r.join("&"), o.url = s[0] + "?" + i, c = document.createElement("script"), c.loaded = !1, window[t] = function (e) {
        "function" != (o.success, !1) && (o.success(e), c.loaded = !0)
    }, d = document.getElementsByTagName("head")[0], d.insertBefore(c, d.firstChild), c.src = o.url, l = "onload" in c, n = l ? "onload" : "onreadystatechange", c[n] = function () {
        if (!c.readyState || "loaded" == c.readyState) return "loaded" == c.readyState && 0 == c.loaded ? void c.onerror() : void setTimeout(function () {
            c.parentNode && c.parentNode.removeChild(c) && d.removeNode && d.removeNode(this), c = c[n] = c.onerror = window[t] = null
        }, 1e3)
    }, c.onerror = function () {
        null == window[t] && a.tips("请求超时，请重试！"), o.error && o.error(), c.parentNode && c.parentNode.removeChild(c) && d.removeNode && d.removeNode(this), c = c[n] = c.onerror = window[t] = null
    }, 0 != u && setTimeout(function () {
        c && 0 == c.loaded && (window[t] = null, c.onerror())
    }, u)
}, aspenLib.parents = function (e, t) {
    for (var n = e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector; e && !n.call(e, t);) e = e.parentElement;
    return e
}, aspenLib.css = function (e, t) {
    if ("object" == typeof t)
        for (var n in t) t[n] && (e.style[n] = t[n].toString());
    return e
}, aspenLib.offsetTop = function (e) {
    for (var t = e.offsetTop, n = e.offsetParent; n;) t += n.offsetTop, n = n.offsetParent;
    return t
}, aspenLib.offsetLeft = function (e) {
    for (var t = e.offsetLeft, n = e.offsetParent; n;) t += n.offsetLeft, n = n.offsetParent;
    return t
}, aspenLib.getQueryString = function (e) {
    var t = window.location.href;
    if (!/\?/.test(t) || /\?$/.test(t) || !/\?(.+)/.test(t)) return !1;
    var n = t.split("?");
    if (n[0] !== t) {
        for (var a = n[1].split("&"), o = {}, r = 0; r < a.length; r++) {
            var i = a[r].split("=");
            o[i[0]] = i[1]
        }
        return e ? o[e] : o
    }
}, aspenLib.getUrlValue = function (e) {
    var t = location.href,
        n = new RegExp("(^|&)" + e + "=([^&]*)(&|$)", "i") || "token",
        a = [];
    if (t.indexOf("?") != -1 && t.indexOf("&") != -1) {
        var o = "";
        try {
            o = t.indexOf("&") != -1 ? t.split("?").reverse()[0].split("&") : t.split("?");
            for (var r = 0; r < o.length; r++) o[r].match(n) && a.push(o[r]);
            if (a.length > 0) return a[a.length - 1].split("=")[1]
        } catch (e) {}
    } else {
        if (t.indexOf("?") == -1) return !1;
        for (var o = t.split("?"), r = 0; r < o.length; r++) o[r].match(n) && a.push(o[r]);
        if (a.length > 0) return a[a.length - 1].split("=")[1]
    }
}, aspenLib.urlSplicing = function (e, t) {
    var n = this;
    if (e instanceof Array && e.length > 0)
        for (var a = 0; a < e.length; a++)
            for (var o in e[a]) n.getUrlValue(o) || (/^\?/.test(location.search) ? location.search += "&" + o + "=" + e[a][o] : location.search += "?" + o + "=" + e[a][o]);
    else n.getUrlValue(e) || (/^\?/.test(location.search) ? location.search += "&" + e + "=" + t : location.search += "?" + e + "=" + t)
}, aspenLib.CreateLoading = function () {
    if (!document.getElementById("loadingWrap")) {
        var e = document.createElement("div");
        e.id = "loadingWrap", e.innerHTML = '<div class="loading"><div class="loading-container first"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="loading-container second"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="loading-container last"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div>', document.body.appendChild(e)
    }
}, aspenLib.RemoveLoading = function () {
    var e = document.getElementById("loadingWrap");
    e && document.body.removeChild(e)
}, aspenLib.formatNumber = function (e) {
    var e = (e || 0).toString();
    if (/\,/.test(e)) return e;
    if (/\./.test(e)) {
        var t = "." + e.split(".")[1];
        e = e.split(".")[0]
    } else var t = "";
    for (var n = /\d{3}$/, a = ""; n.test(e);) {
        if (a = RegExp.lastMatch + a, e === RegExp.lastMatch) {
            e = "";
            break
        }
        a = "," + a, e = RegExp.leftContext
    }
    return e && (a = e + a), /\./.test(e + t) ? a + t : a
}, aspenLib.goTop = function (e, t) {
    window.animation = window.requestAnimationFrame || function (e) {
        return setTimeout(e, 1e3 / 60)
    };
    var e = document.getElementById(e);
    window.addEventListener("scroll", function () {
        var n = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop,
            a = document.documentElement.clientHeight || document.body.clientHeight;
        n >= (Math.abs(t) || a) ? e.style.display = "block" : e.style.display = "none"
    }, !1), e.addEventListener("click", function e() {
        var t = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
        t > 0 && (window.animation(e), window.scrollTo(0, t - t / 30))
    }, !1)
}, aspenLib.copy = function (e, t, n) {
    var a = document.getElementById(e);
    a.addEventListener("click", function () {
        if (!document.body.querySelectorAll(".cInpt")[0]) {
            var e = document.getElementById(t).innerText,
                a = document.createElement("input");
            a.setAttribute("readonly", "readonly"), a.value = e, document.body.appendChild(a), document.body.className.indexOf("ios") != -1 ? a.setSelectionRange(0, e.length) : a.select(), document.execCommand("Copy"), a.className = "cInpt", a.style.display = "none", aspenLib.tips(n || "复制成功"), setTimeout(function () {
                document.body.removeChild(a)
            }, 2e3)
        }
    }, !1)
}, aspenLib.typeOf = function (e) {
    for (var t = ["Number", "String", "Boolean", "Object", "Array", "Null", "Undefined", "Function"], n = 0, a = t.length, e = Object.prototype.toString.call(arguments[0]), o = e.substring(0, e.length - 1).split(" ")[1]; n < a;) {
        if (o === t[n]) return o;
        n++
    }
}, HTMLElement.prototype.removeAttr = function (e) {
    if (this.getAttribute("style")) {
        e instanceof Array || (e = e.split(","));
        for (var t = this.getAttribute("style").replace(/\s+/g, ""), n = 0; n < e.length; n++) t = t.replace(new RegExp(e[n] + ":.+?;"), ""), this.setAttribute("style", t)
    }
}, Array.prototype.isInArray = function (e, t) {
    if (this.indexOf && this.indexOf instanceof Function) {
        var n = this.indexOf(e);
        if (n >= 0) return "i" == t ? n : "v" != t || e
    }
}, Time.prototype = {
    bindEvent: function (e) {
        var t = this,
            n = new Date;
        if (1 == e.date) var a = n.getFullYear(),
            o = t.addZero(n.getMonth() + 1),
            r = t.addZero(n.getDate()),
            i = a + "年" + o + "月" + r + "日 ";
        else var i = ""; if (1 == e.time) var s = t.addZero(n.getHours()),
            c = t.addZero(n.getMinutes()),
            d = t.addZero(n.getSeconds()),
            l = s + ":" + c + ":" + d;
        else var l = "";
        var u = "";
        if (1 == e.week) switch (n.getDay()) {
        case 0:
            u = "星期天";
            break;
        case 1:
            u = "星期一";
            break;
        case 2:
            u = "星期二";
            break;
        case 3:
            u = "星期三";
            break;
        case 4:
            u = "星期四";
            break;
        case 5:
            u = "星期五";
            break;
        case 6:
            u = "星期六"
        } else u = "";
        this.obj.innerHTML = i + l + " " + u
    }, addZero: function (e) {
        return e <= 9 ? "0" + e : e
    }
};